{"ast":null,"code":"import AMapLoader from '@amap/amap-jsapi-loader';\nimport '../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/lodash.mjs';\nimport merge from '../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge.mjs';\nconst DEFAULT_AMP_CONFIG = {\n  \"key\": \"\",\n  \"version\": \"2.0\",\n  \"plugins\": [],\n  serviceHost: \"\",\n  securityJsCode: \"\"\n};\nfunction AMapAPILoader(config = {}) {\n  config = merge({}, DEFAULT_AMP_CONFIG, config);\n  if (config.serviceHost) {\n    window._AMapSecurityConfig = {\n      serviceHost: config.serviceHost\n    };\n  } else if (config.securityJsCode) {\n    window._AMapSecurityConfig = {\n      securityJsCode: config.securityJsCode\n    };\n  }\n  return AMapLoader.load(config);\n}\nexport { AMapAPILoader as default };","map":{"version":3,"names":["DEFAULT_AMP_CONFIG","serviceHost","securityJsCode","AMapAPILoader","config","merge","window","_AMapSecurityConfig","AMapLoader","load"],"sources":["../../services/amap-api-loader.ts"],"sourcesContent":["import AMapLoader from '@amap/amap-jsapi-loader';\r\nimport {merge} from 'lodash-es';\r\n\r\nconst DEFAULT_AMP_CONFIG = {\r\n  'key': '', // 申请好的Web端开发者Key，首次调用 load 时必填\r\n  'version': '2.0', // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\r\n  'plugins': [], // 需要使用的的插件列表，如比例尺'AMap.Scale'等\r\n  // 'Loca': { // 是否加载 Loca， 缺省不加载\r\n  //   'version': '2.0.0' // Loca 版本，缺省 1.3.2\r\n  // },\r\n  serviceHost: '',\r\n  securityJsCode: ''\r\n};\r\n\r\nexport default function(config : any = {}) {\r\n  config = merge({}, DEFAULT_AMP_CONFIG, config);\r\n  if (config.serviceHost) {\r\n    (window as any)._AMapSecurityConfig = {\r\n      serviceHost: config.serviceHost\r\n    };\r\n  } else if (config.securityJsCode) {\r\n    (window as any)._AMapSecurityConfig = {\r\n      securityJsCode: config.securityJsCode\r\n    };\r\n  }\r\n  return AMapLoader.load(config);\r\n}\r\n"],"mappings":";;;AAGA,MAAMA,kBAAqB;EACzB,KAAO;EACP,SAAW;EACX,SAAW;EAIXC,WAAa;EACbC,cAAgB;AAAA;AAGlB,SAAAC,cAAwBC,MAAA,GAAe,EAAI;EAChCA,MAAA,GAAAC,KAAA,CAAM,IAAIL,kBAAoB,EAAAI,MAAA;EACvC,IAAIA,MAAA,CAAOH,WAAa;IACrBK,MAAA,CAAeC,mBAAsB;MACpCN,WAAA,EAAaG,MAAO,CAAAH;IAAA;EAAA,WAEbG,MAAA,CAAOF,cAAgB;IAC/BI,MAAA,CAAeC,mBAAsB;MACpCL,cAAA,EAAgBE,MAAO,CAAAF;IAAA;EAAA;EAG3B,OAAOM,UAAA,CAAWC,IAAK,CAAAL,MAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}