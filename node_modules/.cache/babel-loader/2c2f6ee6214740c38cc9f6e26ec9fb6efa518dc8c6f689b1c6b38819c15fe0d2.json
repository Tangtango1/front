{"ast":null,"code":"// import { Message } from \"element-ui\";\nexport default {\n  data() {\n    return {\n      sessionTable: '',\n      //表\n      role: '',\n      //权限\n      userId: '',\n      //账户\n      type: '支付宝支付',\n      newMoney: '100',\n      //充值金额\n      user: {}\n    };\n  },\n  mounted() {\n    let _this = this;\n    this.sessionTable = this.$storage.get('sessionTable');\n    this.role = this.$storage.get('role');\n    this.userId = this.$storage.get('userId');\n    this.$http({\n      url: `${this.sessionTable}/session`,\n      method: 'get'\n    }).then(({\n      data\n    }) => {\n      if (data && data.code === 0) {\n        _this.user = data.data;\n      } else {\n        _this.$message.error(data.msg);\n      }\n    });\n  },\n  methods: {\n    submitTap() {\n      let _this = this;\n      if (_this.newMoney == null || _this.newMoney == '' || _this.newMoney <= 0) {\n        this.$message.error('充值金额必须大于0');\n        return false;\n      }\n      _this.$confirm(`确定充值么?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        _this.$http({\n          url: `${_this.sessionTable}/update`,\n          method: 'post',\n          data: {\n            id: _this.userId,\n            newMoney: Number(_this.newMoney) + Number(_this.user.newMoney)\n          }\n        }).then(({\n          data\n        }) => {\n          if (data && data.code === 0) {\n            _this.$message({\n              message: '充值成功',\n              type: 'success',\n              duration: 1500,\n              onClose: () => {\n                _this.$router.replace({\n                  path: '/center'\n                });\n              }\n            });\n          } else {\n            this.$message.error(data.msg);\n          }\n        });\n      });\n    },\n    back() {\n      this.$router.replace({\n        path: '/center'\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","sessionTable","role","userId","type","newMoney","user","mounted","_this","$storage","get","$http","url","method","then","code","$message","error","msg","methods","submitTap","$confirm","confirmButtonText","cancelButtonText","id","Number","message","duration","onClose","$router","replace","path","back"],"sources":["D:\\bise\\bise\\front\\src\\views\\pay.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <el-alert title=\"检查好账户哦\" type=\"success\" :closable=\"false\"></el-alert>\n    <el-row style=\"margin: 20px 0 0 20px\">\n      充值金额:<el-input\n        v-model=\"newMoney\"\n        placeholder=\"充值金额\"\n        style=\"width: 40%\"\n        clearable\n      ></el-input>\n    </el-row>\n    <div class=\"pay-type-content\">\n      <label>\n        <div class=\"pay-type-item\" :span=\"8\">\n          <el-radio v-model=\"type\" label=\"微信支付\"></el-radio>\n          <img src=\"@/assets/img/test/weixin.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\" :span=\"8\">\n          <el-radio v-model=\"type\" label=\"支付宝支付\"></el-radio>\n          <img src=\"@/assets/img/test/zhifubao.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\" :span=\"8\">\n          <el-radio v-model=\"type\" label=\"建设银行\"></el-radio>\n          <img src=\"@/assets/img/test/jianshe.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\">\n          <el-radio v-model=\"type\" label=\"农业银行\"></el-radio>\n          <img src=\"@/assets/img/test/nongye.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\">\n          <el-radio v-model=\"type\" label=\"中国银行\"></el-radio>\n          <img src=\"@/assets/img/test/zhongguo.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\">\n          <el-radio v-model=\"type\" label=\"交通银行\"></el-radio>\n          <img src=\"@/assets/img/test/jiaotong.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\">\n          <el-radio v-model=\"type\" label=\"民生银行\"></el-radio>\n          <img src=\"@/assets/img/test/minsheng.png\" alt />\n        </div>\n      </label>\n      <label>\n        <div class=\"pay-type-item\">\n          <el-radio v-model=\"type\" label=\"工商银行\"></el-radio>\n          <img src=\"@/assets/img/test/gongshang.png\" alt />\n        </div>\n      </label>\n    </div>\n    <div class=\"buton-content\">\n      <el-button @click=\"submitTap\" type=\"primary\">确认支付</el-button>\n      <el-button @click=\"back()\">返回</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n// import { Message } from \"element-ui\";\nexport default {\n  data() {\n    return {\n      sessionTable: '', //表\n      role: '', //权限\n      userId: '', //账户\n      type: '支付宝支付',\n      newMoney: '100', //充值金额\n      user: {},\n    }\n  },\n  mounted() {\n    let _this = this\n    this.sessionTable = this.$storage.get('sessionTable')\n    this.role = this.$storage.get('role')\n    this.userId = this.$storage.get('userId')\n    this.$http({\n      url: `${this.sessionTable}/session`,\n      method: 'get',\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        _this.user = data.data\n      } else {\n        _this.$message.error(data.msg)\n      }\n    })\n  },\n  methods: {\n    submitTap() {\n      let _this = this\n      if (\n        _this.newMoney == null ||\n        _this.newMoney == '' ||\n        _this.newMoney <= 0\n      ) {\n        this.$message.error('充值金额必须大于0')\n        return false\n      }\n\n      _this\n        .$confirm(`确定充值么?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n        })\n        .then(() => {\n          _this\n            .$http({\n              url: `${_this.sessionTable}/update`,\n              method: 'post',\n              data: {\n                id: _this.userId,\n                newMoney: Number(_this.newMoney) + Number(_this.user.newMoney),\n              },\n            })\n            .then(({ data }) => {\n              if (data && data.code === 0) {\n                _this.$message({\n                  message: '充值成功',\n                  type: 'success',\n                  duration: 1500,\n                  onClose: () => {\n                    _this.$router.replace({ path: '/center' })\n                  },\n                })\n              } else {\n                this.$message.error(data.msg)\n              }\n            })\n        })\n    },\n    back() {\n      this.$router.replace({ path: '/center' })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  margin: 10px;\n  font-size: 14px;\n  span {\n    width: 60px;\n  }\n  .top-content {\n    display: flex;\n    align-items: center;\n    padding: 20px;\n  }\n  .price-content {\n    display: flex;\n    align-items: center;\n    margin-top: 20px;\n    padding-bottom: 20px;\n    padding: 20px;\n    border-bottom: 1px solid #eeeeee;\n    font-size: 20px;\n    font-weight: bold;\n    color: red;\n  }\n  .pay-type-content {\n    display: flex;\n    align-items: center;\n    margin-top: 20px;\n    flex-wrap: wrap;\n    span {\n      width: 100px;\n    }\n    .pay-type-item {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      width: 300px;\n      margin: 20px;\n      border: 1px solid #eeeeee;\n      padding: 20px;\n    }\n  }\n  .buton-content {\n    margin: 20px;\n  }\n}\n</style>\n"],"mappings":"AAqEA;AACA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAAE;MAClBC,IAAI,EAAE,EAAE;MAAE;MACVC,MAAM,EAAE,EAAE;MAAE;MACZC,IAAI,EAAE,OAAO;MACbC,QAAQ,EAAE,KAAK;MAAE;MACjBC,IAAI,EAAE,CAAC;IACT;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAIC,KAAI,GAAI,IAAG;IACf,IAAI,CAACP,YAAW,GAAI,IAAI,CAACQ,QAAQ,CAACC,GAAG,CAAC,cAAc;IACpD,IAAI,CAACR,IAAG,GAAI,IAAI,CAACO,QAAQ,CAACC,GAAG,CAAC,MAAM;IACpC,IAAI,CAACP,MAAK,GAAI,IAAI,CAACM,QAAQ,CAACC,GAAG,CAAC,QAAQ;IACxC,IAAI,CAACC,KAAK,CAAC;MACTC,GAAG,EAAE,GAAG,IAAI,CAACX,YAAY,UAAU;MACnCY,MAAM,EAAE;IACV,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAAEd;IAAK,CAAC,KAAK;MACpB,IAAIA,IAAG,IAAKA,IAAI,CAACe,IAAG,KAAM,CAAC,EAAE;QAC3BP,KAAK,CAACF,IAAG,GAAIN,IAAI,CAACA,IAAG;MACvB,OAAO;QACLQ,KAAK,CAACQ,QAAQ,CAACC,KAAK,CAACjB,IAAI,CAACkB,GAAG;MAC/B;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAAA,EAAG;MACV,IAAIZ,KAAI,GAAI,IAAG;MACf,IACEA,KAAK,CAACH,QAAO,IAAK,IAAG,IACrBG,KAAK,CAACH,QAAO,IAAK,EAAC,IACnBG,KAAK,CAACH,QAAO,IAAK,GAClB;QACA,IAAI,CAACW,QAAQ,CAACC,KAAK,CAAC,WAAW;QAC/B,OAAO,KAAI;MACb;MAEAT,KAAI,CACDa,QAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE;QACxBC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtBnB,IAAI,EAAE;MACR,CAAC,EACAU,IAAI,CAAC,MAAM;QACVN,KAAI,CACDG,KAAK,CAAC;UACLC,GAAG,EAAE,GAAGJ,KAAK,CAACP,YAAY,SAAS;UACnCY,MAAM,EAAE,MAAM;UACdb,IAAI,EAAE;YACJwB,EAAE,EAAEhB,KAAK,CAACL,MAAM;YAChBE,QAAQ,EAAEoB,MAAM,CAACjB,KAAK,CAACH,QAAQ,IAAIoB,MAAM,CAACjB,KAAK,CAACF,IAAI,CAACD,QAAQ;UAC/D;QACF,CAAC,EACAS,IAAI,CAAC,CAAC;UAAEd;QAAK,CAAC,KAAK;UAClB,IAAIA,IAAG,IAAKA,IAAI,CAACe,IAAG,KAAM,CAAC,EAAE;YAC3BP,KAAK,CAACQ,QAAQ,CAAC;cACbU,OAAO,EAAE,MAAM;cACftB,IAAI,EAAE,SAAS;cACfuB,QAAQ,EAAE,IAAI;cACdC,OAAO,EAAEA,CAAA,KAAM;gBACbpB,KAAK,CAACqB,OAAO,CAACC,OAAO,CAAC;kBAAEC,IAAI,EAAE;gBAAU,CAAC;cAC3C;YACF,CAAC;UACH,OAAO;YACL,IAAI,CAACf,QAAQ,CAACC,KAAK,CAACjB,IAAI,CAACkB,GAAG;UAC9B;QACF,CAAC;MACL,CAAC;IACL,CAAC;IACDc,IAAIA,CAAA,EAAG;MACL,IAAI,CAACH,OAAO,CAACC,OAAO,CAAC;QAAEC,IAAI,EAAE;MAAU,CAAC;IAC1C;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}