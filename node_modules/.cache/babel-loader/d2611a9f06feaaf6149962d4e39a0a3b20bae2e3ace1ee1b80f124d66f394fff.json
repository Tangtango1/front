{"ast":null,"code":"import storage from './storage';\nimport menu from './menu';\n/**\n * 是否有权限\n * @param {*} key\n */\nexport function isAuth(tableName, key) {\n  let role = storage.get('role');\n  if (!role) {\n    role = '管理员';\n  }\n  let menus = menu.list();\n  for (let i = 0; i < menus.length; i++) {\n    if (menus[i].roleName == role) {\n      for (let j = 0; j < menus[i].backMenu.length; j++) {\n        for (let k = 0; k < menus[i].backMenu[j].child.length; k++) {\n          if (tableName == menus[i].backMenu[j].child[k].tableName) {\n            let buttons = menus[i].backMenu[j].child[k].buttons.join(',');\n            return buttons.indexOf(key) !== -1 || false;\n          }\n        }\n      }\n    }\n  }\n  // for(let i=0;i<menus.length;i++){\n  //     if(menus[i].roleName==role){\n  //         for(let j=0;j<menus[i].backMenu.length;j++){\n  //             if(menus[i].backMenu[j].tableName==tableName){\n  //                 let buttons = menus[i].backMenu[j].child[0].buttons.join(',');\n  //                 return buttons.indexOf(key) !== -1 || false\n  //             }\n  //         }\n  //     }\n  // }\n  return false;\n}\n\n/**\n *  * 获取当前时间（yyyy-MM-dd hh:mm:ss）\n *   */\nexport function getCurDateTime() {\n  let currentTime = new Date(),\n    year = currentTime.getFullYear(),\n    month = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1,\n    day = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate(),\n    hour = currentTime.getHours(),\n    minute = currentTime.getMinutes(),\n    second = currentTime.getSeconds();\n  return year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;\n}\n\n/**\n *  * 获取当前日期（yyyy-MM-dd）\n *   */\nexport function getCurDate() {\n  let currentTime = new Date(),\n    year = currentTime.getFullYear(),\n    month = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1,\n    day = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate();\n  return year + '-' + month + '-' + day;\n}\n\n/**\n * 获取年\n */\nexport function getYearFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date();\n  }\n  var year = currentTime.getFullYear();\n  return year;\n}\n\n/**\n * 获取月\n */\nexport function getMonthFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date();\n  }\n  var year = currentTime.getFullYear();\n  var month = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1;\n  return year + '-' + month;\n}\n\n/**\n *日期格式化（yyyy-MM-dd）\n */\nexport function getDateFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date();\n  }\n  var year = currentTime.getFullYear();\n  var month = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1;\n  var day = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate();\n  return year + '-' + month + '-' + day;\n}\n\n/**\n * 时间格式化（yyyy-MM-dd hh:mm:ss）\n */\nexport function getDatetimeFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date();\n  }\n  var year = currentTime.getFullYear();\n  var month = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1;\n  var day = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate();\n  var hour = currentTime.getHours();\n  var minute = currentTime.getMinutes();\n  var second = currentTime.getSeconds();\n  return year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;\n}","map":{"version":3,"names":["storage","menu","isAuth","tableName","key","role","get","menus","list","i","length","roleName","j","backMenu","k","child","buttons","join","indexOf","getCurDateTime","currentTime","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","getCurDate","getYearFormat","getMonthFormat","getDateFormat","getDatetimeFormat"],"sources":["D:/bise/bise/front/src/utils/utils.js"],"sourcesContent":["import storage from './storage'\nimport menu from './menu'\n/**\n * 是否有权限\n * @param {*} key\n */\nexport function isAuth(tableName, key) {\n  let role = storage.get('role')\n  if (!role) {\n    role = '管理员'\n  }\n  let menus = menu.list()\n  for (let i = 0; i < menus.length; i++) {\n    if (menus[i].roleName == role) {\n      for (let j = 0; j < menus[i].backMenu.length; j++) {\n        for (let k = 0; k < menus[i].backMenu[j].child.length; k++) {\n          if (tableName == menus[i].backMenu[j].child[k].tableName) {\n            let buttons = menus[i].backMenu[j].child[k].buttons.join(',')\n            return buttons.indexOf(key) !== -1 || false\n          }\n        }\n      }\n    }\n  }\n  // for(let i=0;i<menus.length;i++){\n  //     if(menus[i].roleName==role){\n  //         for(let j=0;j<menus[i].backMenu.length;j++){\n  //             if(menus[i].backMenu[j].tableName==tableName){\n  //                 let buttons = menus[i].backMenu[j].child[0].buttons.join(',');\n  //                 return buttons.indexOf(key) !== -1 || false\n  //             }\n  //         }\n  //     }\n  // }\n  return false\n}\n\n/**\n *  * 获取当前时间（yyyy-MM-dd hh:mm:ss）\n *   */\nexport function getCurDateTime() {\n  let currentTime = new Date(),\n    year = currentTime.getFullYear(),\n    month =\n      currentTime.getMonth() + 1 < 10\n        ? '0' + (currentTime.getMonth() + 1)\n        : currentTime.getMonth() + 1,\n    day =\n      currentTime.getDate() < 10\n        ? '0' + currentTime.getDate()\n        : currentTime.getDate(),\n    hour = currentTime.getHours(),\n    minute = currentTime.getMinutes(),\n    second = currentTime.getSeconds()\n  return (\n    year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second\n  )\n}\n\n/**\n *  * 获取当前日期（yyyy-MM-dd）\n *   */\nexport function getCurDate() {\n  let currentTime = new Date(),\n    year = currentTime.getFullYear(),\n    month =\n      currentTime.getMonth() + 1 < 10\n        ? '0' + (currentTime.getMonth() + 1)\n        : currentTime.getMonth() + 1,\n    day =\n      currentTime.getDate() < 10\n        ? '0' + currentTime.getDate()\n        : currentTime.getDate()\n  return year + '-' + month + '-' + day\n}\n\n/**\n * 获取年\n */\nexport function getYearFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date()\n  }\n  var year = currentTime.getFullYear()\n  return year\n}\n\n/**\n * 获取月\n */\nexport function getMonthFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date()\n  }\n  var year = currentTime.getFullYear()\n  var month =\n    currentTime.getMonth() + 1 < 10\n      ? '0' + (currentTime.getMonth() + 1)\n      : currentTime.getMonth() + 1\n  return year + '-' + month\n}\n\n/**\n *日期格式化（yyyy-MM-dd）\n */\nexport function getDateFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date()\n  }\n  var year = currentTime.getFullYear()\n  var month =\n    currentTime.getMonth() + 1 < 10\n      ? '0' + (currentTime.getMonth() + 1)\n      : currentTime.getMonth() + 1\n  var day =\n    currentTime.getDate() < 10\n      ? '0' + currentTime.getDate()\n      : currentTime.getDate()\n  return year + '-' + month + '-' + day\n}\n\n/**\n * 时间格式化（yyyy-MM-dd hh:mm:ss）\n */\nexport function getDatetimeFormat(currentTime) {\n  if (currentTime == null) {\n    currentTime = new Date()\n  }\n  var year = currentTime.getFullYear()\n  var month =\n    currentTime.getMonth() + 1 < 10\n      ? '0' + (currentTime.getMonth() + 1)\n      : currentTime.getMonth() + 1\n  var day =\n    currentTime.getDate() < 10\n      ? '0' + currentTime.getDate()\n      : currentTime.getDate()\n  var hour = currentTime.getHours()\n  var minute = currentTime.getMinutes()\n  var second = currentTime.getSeconds()\n  return (\n    year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}