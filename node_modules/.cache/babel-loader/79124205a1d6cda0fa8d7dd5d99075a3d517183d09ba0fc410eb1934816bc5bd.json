{"ast":null,"code":"export default {\n  data() {\n    return {\n      dialogVisible: false,\n      ruleForm: {},\n      user: {},\n      heads: {\n        headLogoutFontHoverColor: '#fff',\n        headFontSize: '20px',\n        headUserInfoFontColor: '#fff',\n        headBoxShadow: '0 1px 6px #444',\n        headTitleImgHeight: '44px',\n        headLogoutFontHoverBgColor: 'var(--publicSubColor)',\n        headFontColor: 'rgba(255, 255, 255, 1)',\n        headTitleImg: false,\n        headHeight: '60px',\n        headTitleImgBorderRadius: '22px',\n        headTitleImgUrl: 'http://codegen.caihongy.cn/20201021/cc7d45d9c8164b58b18351764eba9be1.jpg',\n        headBgColor: 'linear-gradient(90deg, var(--publicMainColor) 0%, var(--publicMainColor) 24%, var(--publicSubColor) 49%, var(--publicSubColor) 49%, var(--publicMainColor) 72%, var(--publicMainColor) 100%)',\n        headTitleImgBoxShadow: '0 1px 6px #444',\n        headLogoutFontColor: '#fff',\n        headUserInfoFontSize: '16px',\n        headTitleImgWidth: '44px',\n        headTitleStyle: '2',\n        headLogoutFontSize: '16px'\n      }\n    };\n  },\n  created() {\n    this.setHeaderStyle();\n  },\n  mounted() {\n    let sessionTable = this.$storage.get('sessionTable');\n    this.$http({\n      url: sessionTable + '/session',\n      method: 'get'\n    }).then(({\n      data\n    }) => {\n      if (data && data.code === 0) {\n        this.user = data.data;\n        this.$storage.set('userid', data.data.id);\n      } else {\n        let message = this.$message;\n        message.error(data.msg);\n      }\n    });\n  },\n  methods: {\n    onLogout() {\n      let storage = this.$storage;\n      let router = this.$router;\n      storage.clear();\n      router.replace({\n        name: 'login'\n      });\n    },\n    onIndexTap() {\n      window.location.href = `${this.$base.indexUrl}`;\n    },\n    setHeaderStyle() {\n      this.$nextTick(() => {\n        document.querySelectorAll('.navbar .right-menu .logout').forEach(el => {\n          el.addEventListener('mouseenter', e => {\n            e.stopPropagation();\n            el.style.backgroundColor = this.heads.headLogoutFontHoverBgColor;\n            el.style.color = this.heads.headLogoutFontHoverColor;\n          });\n          el.addEventListener('mouseleave', e => {\n            e.stopPropagation();\n            el.style.backgroundColor = 'transparent';\n            el.style.color = this.heads.headLogoutFontColor;\n          });\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","dialogVisible","ruleForm","user","heads","headLogoutFontHoverColor","headFontSize","headUserInfoFontColor","headBoxShadow","headTitleImgHeight","headLogoutFontHoverBgColor","headFontColor","headTitleImg","headHeight","headTitleImgBorderRadius","headTitleImgUrl","headBgColor","headTitleImgBoxShadow","headLogoutFontColor","headUserInfoFontSize","headTitleImgWidth","headTitleStyle","headLogoutFontSize","created","setHeaderStyle","mounted","sessionTable","$storage","get","$http","url","method","then","code","set","id","message","$message","error","msg","methods","onLogout","storage","router","$router","clear","replace","name","onIndexTap","window","location","href","$base","indexUrl","$nextTick","document","querySelectorAll","forEach","el","addEventListener","e","stopPropagation","style","backgroundColor","color"],"sources":["D:\\bise\\bise\\front\\src\\components\\index\\IndexHeader.vue"],"sourcesContent":["<template>\n  <!-- <el-header>\n  \t\t<el-menu background-color=\"#00c292\" text-color=\"#FFFFFF\" active-text-color=\"#FFFFFF\" mode=\"horizontal\">\n  \t\t\t<div class=\"fl title\">{{this.$project.projectName}}</div>\n  \t\t\t<div class=\"fr logout\" style=\"display:flex;\">\n  \t\t\t\t<el-menu-item index=\"2\">\n  \t\t\t\t\t<div>{{this.$storage.get('role')}} {{this.$storage.get('adminName')}}</div>\n  \t\t\t\t</el-menu-item>\n  \t\t\t\t<el-menu-item @click=\"onLogout\" index=\"2\">\n  \t\t\t\t\t<div>退出登录</div>\n  \t\t\t\t</el-menu-item>\n  \t\t\t</div>\n  \t\t</el-menu>\n  \t</el-header> -->\n  <div\n    class=\"navbar\"\n    :style=\"{\n      background: heads.headBgColor,\n      height: heads.headHeight,\n      boxShadow: heads.headBoxShadow,\n      lineHeight: heads.headHeight,\n    }\"\n  >\n    <div\n      class=\"title-menu\"\n      :style=\"{\n        justifyContent: heads.headTitleStyle == '1' ? 'flex-start' : 'center',\n      }\"\n    >\n      <el-image\n        v-if=\"heads.headTitleImg\"\n        class=\"title-img\"\n        :style=\"{\n          width: heads.headTitleImgWidth,\n          height: heads.headTitleImgHeight,\n          boxShadow: heads.headTitleImgBoxShadow,\n          borderRadius: heads.headTitleImgBorderRadius,\n        }\"\n        :src=\"heads.headTitleImgUrl\"\n        fit=\"cover\"\n      ></el-image>\n      <div\n        class=\"title-name\"\n        :style=\"{ color: heads.headFontColor, fontSize: heads.headFontSize }\"\n      >\n        {{ this.$project.projectName }}\n      </div>\n    </div>\n    <div class=\"right-menu\">\n      <div\n        class=\"user-info\"\n        :style=\"{\n          color: heads.headUserInfoFontColor,\n          fontSize: heads.headUserInfoFontSize,\n        }\"\n      >\n        {{ this.$storage.get('role') }} {{ this.$storage.get('adminName') }}\n      </div>\n      <div\n        class=\"logout\"\n        :style=\"{\n          color: heads.headLogoutFontColor,\n          fontSize: heads.headLogoutFontSize,\n        }\"\n        @click=\"onLogout\"\n      >\n        退出登录\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      ruleForm: {},\n      user: {},\n      heads: {\n        headLogoutFontHoverColor: '#fff',\n        headFontSize: '20px',\n        headUserInfoFontColor: '#fff',\n        headBoxShadow: '0 1px 6px #444',\n        headTitleImgHeight: '44px',\n        headLogoutFontHoverBgColor: 'var(--publicSubColor)',\n        headFontColor: 'rgba(255, 255, 255, 1)',\n        headTitleImg: false,\n        headHeight: '60px',\n        headTitleImgBorderRadius: '22px',\n        headTitleImgUrl:\n          'http://codegen.caihongy.cn/20201021/cc7d45d9c8164b58b18351764eba9be1.jpg',\n        headBgColor:\n          'linear-gradient(90deg, var(--publicMainColor) 0%, var(--publicMainColor) 24%, var(--publicSubColor) 49%, var(--publicSubColor) 49%, var(--publicMainColor) 72%, var(--publicMainColor) 100%)',\n        headTitleImgBoxShadow: '0 1px 6px #444',\n        headLogoutFontColor: '#fff',\n        headUserInfoFontSize: '16px',\n        headTitleImgWidth: '44px',\n        headTitleStyle: '2',\n        headLogoutFontSize: '16px',\n      },\n    }\n  },\n  created() {\n    this.setHeaderStyle()\n  },\n  mounted() {\n    let sessionTable = this.$storage.get('sessionTable')\n    this.$http({\n      url: sessionTable + '/session',\n      method: 'get',\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        this.user = data.data\n        this.$storage.set('userid', data.data.id)\n      } else {\n        let message = this.$message\n        message.error(data.msg)\n      }\n    })\n  },\n  methods: {\n    onLogout() {\n      let storage = this.$storage\n      let router = this.$router\n      storage.clear()\n      router.replace({\n        name: 'login',\n      })\n    },\n    onIndexTap() {\n      window.location.href = `${this.$base.indexUrl}`\n    },\n    setHeaderStyle() {\n      this.$nextTick(() => {\n        document\n          .querySelectorAll('.navbar .right-menu .logout')\n          .forEach((el) => {\n            el.addEventListener('mouseenter', (e) => {\n              e.stopPropagation()\n              el.style.backgroundColor = this.heads.headLogoutFontHoverBgColor\n              el.style.color = this.heads.headLogoutFontHoverColor\n            })\n            el.addEventListener('mouseleave', (e) => {\n              e.stopPropagation()\n              el.style.backgroundColor = 'transparent'\n              el.style.color = this.heads.headLogoutFontColor\n            })\n          })\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.navbar {\n  height: 60px;\n  line-height: 60px;\n  width: 100%;\n  padding: 0 34px;\n  box-sizing: border-box;\n  background-color: #ff00ff;\n  position: relative;\n  z-index: 111;\n\n  .right-menu {\n    position: absolute;\n    right: 34px;\n    top: 0;\n    height: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    z-index: 111;\n\n    .user-info {\n      font-size: 16px;\n      color: red;\n      padding: 0 12px;\n    }\n\n    .logout {\n      font-size: 16px;\n      color: red;\n      padding: 0 12px;\n      cursor: pointer;\n    }\n  }\n\n  .title-menu {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n\n    .title-img {\n      width: 44px;\n      height: 44px;\n      border-radius: 22px;\n      box-shadow: 0 1px 6px #444;\n      margin-right: 16px;\n    }\n\n    .title-name {\n      font-size: 24px;\n      color: #fff;\n      font-weight: 700;\n    }\n  }\n}\n// .el-header .fr {\n// \tfloat: right;\n// }\n\n// .el-header .fl {\n// \tfloat: left;\n// }\n\n// .el-header {\n// \twidth: 100%;\n// \tcolor: #333;\n// \ttext-align: center;\n// \tline-height: 60px;\n// \tpadding: 0;\n// \tz-index: 99;\n// }\n\n// .logo {\n// \twidth: 60px;\n// \theight: 60px;\n// \tmargin-left: 70px;\n// }\n\n// .avator {\n// \twidth: 40px;\n// \theight: 40px;\n// \tbackground: #ffffff;\n// \tborder-radius: 50%;\n// }\n\n// .title {\n// \tcolor: #ffffff;\n// \tfont-size: 20px;\n// \tfont-weight: bold;\n// \tmargin-left: 20px;\n// }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}