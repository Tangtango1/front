{"version":3,"file":"injected-amap-api-instance.js","sources":["../../services/injected-amap-api-instance.ts"],"sourcesContent":["import AMapAPILoader from './amap-api-loader';\r\nlet lazyAMapApiLoaderInstance = null as any;\r\n\r\ninterface AMapLoaderOptions {\r\n  key: string, // 申请好的Web端开发者Key，首次调用 load 时必填\r\n  version ?: string, // 指定要加载的 JSAPI 的版本，缺省时默认为 2.0.0\r\n  plugins ?: string[], // 需要使用的的插件列表，如比例尺'AMap.Scale'等\r\n  Loca ?: {\r\n    version ?: string\r\n  },\r\n  AMapUI ?: {\r\n    version?: string; // AMapUI 缺省 1.1\r\n    plugins?: string[]; // 需要加载的 AMapUI ui插件\r\n  };\r\n  serviceHost ?: string\r\n  securityJsCode ?: string\r\n  offline ?: boolean //是否离线部署\r\n}\r\n\r\nexport const initAMapApiLoader = (config : AMapLoaderOptions) => {\r\n  if (lazyAMapApiLoaderInstance) return;\r\n  if (!lazyAMapApiLoaderInstance){\r\n    if(config.offline){\r\n      lazyAMapApiLoaderInstance = new Promise(resolve => {\r\n        console.log('@vuemap/vue-amap离线部署')\r\n        resolve((window as any).AMap);\r\n      });\r\n    }else{\r\n      lazyAMapApiLoaderInstance = AMapAPILoader(config);\r\n    }\r\n  }\r\n  lazyAMapApiLoaderInstance.then();\r\n};\r\nexport {lazyAMapApiLoaderInstance};\r\n"],"names":["lazyAMapApiLoaderInstance","AMapAPILoader"],"mappings":";;;;;;AACIA,iCAA4B,GAAA,KAAA;AAkBnB,MAAA,iBAAA,GAAoB,CAAC,MAA+B,KAAA;AAC/D,EAAI,IAAAA,iCAAA;AAA2B,IAAA,OAAA;AAC/B,EAAA,IAAI,CAACA,iCAA0B,EAAA;AAC7B,IAAA,IAAG,OAAO,OAAQ,EAAA;AAChB,MAA4BA,iCAAA,GAAA,IAAI,QAAQ,CAAW,OAAA,KAAA;AACjD,QAAA,OAAA,CAAQ,GAAI,CAAA,0CAAA,CAAA,CAAA;AACZ,QAAA,OAAA,CAAS,MAAe,CAAA,IAAA,CAAA,CAAA;AAAA,OAAA,CAAA,CAAA;AAAA,KAEvB,MAAA;AACH,MAAAA,iCAAA,GAA4BC,wBAAc,CAAA,MAAA,CAAA,CAAA;AAAA,KAAA;AAAA,GAAA;AAG9C,EAA0BD,iCAAA,CAAA,IAAA,EAAA,CAAA;AAAA;;;;"}