{"version":3,"file":"_createFlow.js","sources":["../../../../../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createFlow.js"],"sourcesContent":["import LodashWrapper from './_LodashWrapper.js';\nimport flatRest from './_flatRest.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport isArray from './isArray.js';\nimport isLaziable from './_isLaziable.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nexport default createFlow;\n"],"names":["flatRest","LodashWrapper","getFuncName","getData","isLaziable","isArray"],"mappings":"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"}